<!doctype html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>SFCC Search 1.0.0</title>
    <script src="js/search.js"></script>
    <link rel="stylesheet" href="css/search.css">
</head>

<body>
    <div class='c-changelog'>
        <a href="searchChangelog" target="_blank">Changelog</a>
    </div>
    <div class="c-center c-margin-top-bottom">
        <label for="searchTerm" class="c-margin-right">Search query:</label>
        <input type="text" id="searchTerm" class="c-border-radius c-search-input" />
        <button id="btn" class="border-radius">Search</button>
    </div>

    <div id="searchResult" class="c-content-center">
    </div>
    <script>
        let btn = document.getElementById('btn');
        btn.addEventListener('click', (ev) => {
            searchList();
        });
        document.addEventListener('keypress', (event) => {
            let keyCode = event.keyCode ? event.keyCode : event.which;
            if (keyCode === 13) {
                btn.click();
            }
        });
        let inputElem = document.querySelector("#searchTerm");
        window.addEventListener('load', function (e) {
            inputElem.focus();
        })

        let map = {};
        onkeydown = onkeyup = function(e){
            e = e || event;
            map[e.keyCode+''] = e.type == 'keydown';
            if (map[18]) {
                let combination = map[48] ? 10 : 0;
                for (let i = 49; i < 58; i++) {
                    if (map[i]) {
                        combination = i - 48;
                    }
                }
                document.querySelector(`#searchResult div:nth-child(${combination}) a`).click();
                document.activeElement.blur();
                map = {};
            }
        }
    </script>
</body>

</html>
